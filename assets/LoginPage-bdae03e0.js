import{r as i,j as e,L as h,F as p,G as b,H as j,a2 as v,a3 as w,a4 as N,a as f,u as g,a5 as x,O as y,U as S,a6 as k,$ as E}from"./index-3c049d7e.js";function L({notVerified:t}){const[s,a]=i.useState(""),[n,d]=i.useState(""),[r,c]=i.useState(!1),[l,o]=i.useState(!1);async function u(m){m.preventDefault(),(await v(s,n)).status==="success"?o(!1):o(!0)}return e.jsxs("form",{className:"basis-full w-full box-border p-4 shrink-0 md:text-base text-sm",onSubmit:m=>void u(m),children:[e.jsx("p",{className:"w-full text-center font-bold mt-2 mb-6 md:text-2xl text-lg",children:"Sign in to your account"}),e.jsxs("label",{children:["Email",e.jsx("input",{name:"email",placeholder:"Email",className:`w-full p-2 md:text-lg text-base mt-2 mb-6 outline-none rounded-md box-border ${l?"border-red-500 border border-solid":""}`,type:"email",onChange:m=>a(m.target.value),required:!0,value:s})]}),e.jsxs("label",{className:"relative",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Password"}),e.jsx(h,{to:"/forgot",children:e.jsx("span",{className:"hover:text-c4 text-c7 transition",children:"Forgot?"})})]}),e.jsxs("div",{className:"relative mt-2 flex items-center",children:[e.jsx("input",{name:"password",placeholder:"Password",className:`w-full p-2 md:text-lg text-base outline-none rounded-md box-border ${l?"border-red-500 border border-solid":""}`,type:`${r?"text":"password"}`,onChange:m=>d(m.target.value),required:!0,value:n}),e.jsx(p,{icon:r?b:j,className:"absolute right-2 cursor-pointer",onClick:()=>c(!r)})]})]}),e.jsxs("div",{className:"mt-2 text-sm text-red-500",children:[l?"Email or password incorrect":null,!l&&t?e.jsx("p",{children:"You have not verified your email. "}):null]}),e.jsx("label",{children:e.jsx("button",{className:"mt-6 w-full p-2 text-center bg-c9 text-white rounded-lg hover:bg-c7 transition",type:"submit",children:"Sign In"})}),e.jsx(h,{to:"/schedule",children:e.jsx("p",{className:"mt-6 hover:text-c4 text-c7 transition",children:"Make a schedule without logging in"})})]})}function C(){const[t,s]=i.useState(""),[a,n]=i.useState(""),[d,r]=i.useState(""),[c,l]=i.useState(!1);async function o(u){if(u.preventDefault(),a!==d){l(!0);return}const m=await w(t,a);m.status==="success"?(l(!1),await N({email:t,uid:m.info.user.uid})):l(m.info.code.split("/")[1].replaceAll("-"," "))}return e.jsxs("form",{className:"basis-full w-full box-border p-4 shrink-0 text-sm md:text-base",onSubmit:u=>void o(u),children:[e.jsx("p",{className:"w-full text-center font-bold mt-2 mb-6 md:text-2xl text-lg",children:"Sign up your account"}),e.jsxs("label",{children:["Email",e.jsx("input",{name:"email",placeholder:"Email",className:`w-full p-2 md:text-lg text-base mt-2 mb-6 outline-none rounded-md ${c?"border-red-500 border border-solid":""}`,type:"email",onChange:u=>s(u.target.value),required:!0,value:t})]}),e.jsxs("label",{className:"relative",children:[e.jsx("div",{className:"flex justify-between",children:e.jsx("span",{children:"Password"})}),e.jsx("div",{className:"relative mt-2 flex items-center",children:e.jsx("input",{name:"password",placeholder:"Password",className:`w-full p-2 md:text-lg text-base outline-none rounded-md mb-6 box-border ${c?"border-red-500 border border-solid":""}`,type:"text",onChange:u=>n(u.target.value),required:!0,value:a})})]}),e.jsxs("label",{className:"relative",children:[e.jsx("div",{className:"flex justify-between",children:e.jsx("span",{children:"Confirm Password"})}),e.jsx("div",{className:"relative mt-2 flex items-center",children:e.jsx("input",{name:"password",placeholder:"Password",className:`w-full p-2 md:text-lg text-base outline-none rounded-md box-border ${c?"border-red-500 border border-solid":""}`,type:"text",onChange:u=>r(u.target.value),required:!0,value:d})})]}),e.jsxs("p",{className:"mt-2 text-sm text-red-500",children:[c===!0?"The passwords don't match":null,c&&c!==!0?c:null]}),e.jsx("label",{children:e.jsx("button",{className:"mt-6 w-full p-2 text-center bg-c9 text-white rounded-lg hover:bg-c7 transition",type:"submit",children:"Sign Up"})}),e.jsx(h,{to:"/schedule",children:e.jsx("p",{className:"mt-6 hover:text-c4 text-c7 transition",children:"Make a schedule without signing up"})})]})}const I={loginBg:[{url:"/me-schedule-maker/images/loginbg/view.png",name:"view",width:2224,height:1546},{url:"/me-schedule-maker/images/loginbg/search.png",name:"search",width:1190,height:1516},{url:"/me-schedule-maker/images/loginbg/filter.png",name:"filter",width:1190,height:1514},{url:"/me-schedule-maker/images/loginbg/saved.png",name:"saved",width:1190,height:1516},{url:"/me-schedule-maker/images/loginbg/view.png",name:"view",width:2224,height:1546}]};function z(){const{loginBg:t}=I,[s,a]=i.useState(0),n=t.length-1,d=["M0 0L0 100 5 100 0 0z","M0 0L0 100 7.5 100 2.5 0z","M0 0L0 100 10 100 5 0z","M0 0L0 100 12.5 100 7.5 0z"],r=["M100 100L100 0 95 0 100 100z","M100 100L100 0 92.5 0 97.5 100z","M100 100L100 0 90 0 95 100z","M100 100L100 0 87.5 0 92.5 100z"],c=["#FFF","#ade8f4","#48cae4","#0096c7"];return i.useEffect(()=>{const l=setInterval(()=>{a(o=>o===n?1:o+1)},6e3);return()=>clearInterval(l)},[n]),e.jsxs("section",{className:"w-full h-full flex overflow-hidden relative",children:[t.map((l,o)=>e.jsx(M,{img:l,index:o,current:s,length:n},l.name+o.toString())),e.jsx(f.div,{className:"h-full absolute left-0 w-full",children:d.map((l,o)=>e.jsx(P,{dInitial:l,index:o,fill:c[o],current:s},o))}),e.jsx(f.div,{className:"h-full absolute right-0 w-full",children:r.map((l,o)=>e.jsx(U,{dInitial:l,index:o,fill:c[o],current:s},o))})]})}function M({img:t,index:s,current:a,length:n}){const{url:d}=t,[r,c]=g(()=>({x:s===0?"0%":"100%",config:{duration:2200,easing:x.easeInOutExpo}}),[]);return i.useEffect(()=>{const l=s-a;c.start({x:l===0?"0%":l<0?"-100%":"100%",onResolve:()=>{a===n&&c.set({x:s===0?"0":"100%"})}})},[a]),e.jsx(f.div,{className:"h-full absolute w-full bg-c9 flex justify-center",style:{x:r.x},children:e.jsx("img",{src:d,className:"h-full object-cover"})})}function P({dInitial:t,index:s,fill:a,current:n}){const[d,r]=g(()=>({d:t,config:{duration:1e3}}),[]);return i.useEffect(()=>{n!==0&&r.start({d:"M0 0L0 100 0 100 0 0z",delay:s*50,config:{easing:x.easeInExpo},onResolve:()=>{r.start({from:{d:"M0 0L0 100 100 100 100 0z"},to:{d:t},delay:s*50,config:{easing:x.easeOutExpo}})}})},[n]),e.jsx("svg",{preserveAspectRatio:"none",viewBox:"0 0 100 100",className:"h-full w-full absolute",style:{zIndex:10-s},children:e.jsx(f.path,{d:d.d,fill:a})})}function U({dInitial:t,index:s,fill:a,current:n}){const[d,r]=g(()=>({d:t,config:{duration:1e3}}),[]);return i.useEffect(()=>{n!==0&&r.start({d:"M100 100L100 0 0 0 0 100z",delay:s*50,config:{easing:x.easeInExpo},onResolve:()=>{r.start({from:{d:"M100 100L100 0 100 0 100 100z"},to:{d:t},delay:s*50,config:{easing:x.easeOutExpo}})}})},[n]),e.jsx("svg",{preserveAspectRatio:"none",viewBox:"0 0 100 100",className:"h-full w-full absolute",style:{zIndex:10-s},children:e.jsx(f.path,{d:d.d,fill:a})})}function q(){const[t,s]=i.useState("Login"),a=y(),[n,d]=i.useState(!1),{user:r}=i.useContext(S);i.useEffect(()=>{r&&(r.emailVerified?a(`/users/${r.uid}`):(a("/email-verification-confirmation"),k(r).catch(l=>console.log(l)),d(!0),E().catch(l=>console.log(l))))},[r]);function c(l){l==="Login"?s("Login"):l==="Sign Up"&&s("Sign Up")}return e.jsx(e.Fragment,{children:e.jsxs("section",{className:"w-[100dvw] h-[100dvh] bg-white flex",children:[e.jsx("div",{className:"md:basis-5/12 w-full bg-white flex flex-col items-center justify-center box-border p-6 shrink-0",children:e.jsxs("div",{className:"bg-c1 w-full h-full flex flex-col items-center rounded-lg overflow-hidden",children:[e.jsx("nav",{className:"flex w-full shrink-0 rounded-t-lg",children:["Login","Sign Up"].map(l=>e.jsx($,{meth:l,active:t,onClick:c},l))}),e.jsx("img",{src:"/me-schedule-maker/images/jac-mock-schedule-maker-high-resolution-logo-black-on-transparent-background.png",className:"w-28 mt-12"}),e.jsx(F,{active:t,notVerified:n})]})}),e.jsx("div",{className:"basis-7/12 bg-white text-xl md:block hidden",children:e.jsx(z,{})})]})})}function $({meth:t,active:s,onClick:a}){const[n,d]=g(()=>({from:{backgroundColor:t===s?"#03045e":"#caf0f8",color:t===s?"#caf0f8":"#03045e"}}),[]);return i.useEffect(()=>{d.start({to:{backgroundColor:t===s?"#03045e":"#caf0f8",color:t===s?"#caf0f8":"#03045e"}})},[s]),e.jsx(e.Fragment,{children:e.jsx(f.p,{className:"text-center basis-1/2 cursor-pointer p-2 box-border text-c9",style:n,onClick:()=>a(t),children:t},t)})}function F({active:t,notVerified:s}){const[a,n]=g(()=>({from:{x:"0%"}}),[]);return i.useEffect(()=>{n.start({to:{x:t==="Login"?"0%":"-100%"}})},[t]),e.jsx("div",{className:"overflow-x-hidden overflow-y-auto w-full h-full",children:e.jsxs(f.div,{className:"flex relative",style:a,children:[e.jsx(L,{notVerified:s}),e.jsx(C,{})]})})}export{q as default};
